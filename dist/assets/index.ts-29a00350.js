import{B as t}from"./browser-polyfill-978823b5.js";import{G as d,T as p}from"./user-config-6482021a.js";async function n(){const a=await t.tabs.query({}),o=t.runtime.getURL("app.html"),e=a.find(c=>{var i;return(i=c.url)==null?void 0:i.startsWith(o)});if(e){await t.tabs.update(e.id,{active:!0});return}const{startupPage:s}=await d(),r=s===p?"":`#/chat/${s}`;await t.tabs.create({url:`app.html${r}`})}t.action.onClicked.addListener(()=>{n()});t.runtime.onInstalled.addListener(a=>{a.reason==="install"&&n()});t.commands.onCommand.addListener(async a=>{console.debug(`Command: ${a}`),a==="open-app"&&n()});
