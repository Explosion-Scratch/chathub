import{a7 as l,ad as u,aP as p,r,y as e,aJ as g,aK as f,aL as h,z as j,aM as b,aN as v,a9 as n,aU as w,aS as y,ah as C,aa as N}from"./ChatMessageList-6b3f366e.js";import{B as k}from"./browser-polyfill-6f7fab7c.js";import{C as P}from"./user-config-349b144b.js";import"./proxy-fetch-d9de5c46.js";const B="/assets/premium-d74077d7.svg";function S(){const{t:a}=l(),[t,c]=u(w),i=P[t],s=p(t),m=r.useCallback(async x=>{s.sendMessage(x)},[s]),o=r.useCallback(()=>{s.generating||s.resetConversation()},[s]),d=r.useMemo(()=>({reset:o}),[o]);return e.jsx(g.Provider,{value:d,children:e.jsxs("div",{className:"flex flex-col overflow-hidden bg-primary-background h-full",children:[e.jsxs("div",{className:"border-b border-solid border-primary-border flex flex-row items-center justify-between gap-2 py-3 mx-3",children:[e.jsxs("div",{className:"flex flex-row items-center gap-2",children:[e.jsx("img",{src:i.avatar,className:"w-4 h-4 object-contain rounded-full"}),e.jsx("span",{className:"font-semibold text-primary-text text-xs",children:i.name}),e.jsx(f,{selectedBotId:t,onChange:c})]}),e.jsx("div",{className:"flex flex-row items-center gap-3",children:e.jsx("img",{src:h,className:j("w-4 h-4",s.generating?"cursor-not-allowed":"cursor-pointer"),onClick:o})})]}),e.jsx(b,{botId:t,messages:s.messages,className:"mx-3"}),e.jsxs("div",{className:"flex flex-col mx-3 my-3 gap-3",children:[e.jsx("hr",{className:"grow border-primary-border"}),e.jsx(v,{mode:"compact",disabled:s.generating,autoFocus:!0,placeholder:"Ask me anything...",onSubmit:m,actionButton:s.generating?e.jsx(n,{text:a("Stop"),color:"flat",size:"small",onClick:s.stopGenerating}):e.jsx(n,{text:a("Send"),color:"primary",type:"submit",size:"small"})})]})]})})}function I(){const{t:a}=l(),t=r.useCallback(()=>{C("open_premium_from_sidepanel"),window.open(k.runtime.getURL("app.html#/premium"),"_blank")},[]);return e.jsxs("div",{className:"w-full h-full flex flex-col justify-center items-center gap-3",children:[e.jsx("img",{src:B,className:"w-10 h-10"}),e.jsx("div",{className:"text-xl font-bold",children:a("Premium Feature")}),e.jsx(n,{text:a("Upgrade to unlock"),color:"primary",onClick:t})]})}function A(){const a=N();return a.isLoading?null:a.activated?e.jsx(S,{}):e.jsx(I,{})}const M=document.getElementById("app"),E=y(M);E.render(e.jsx(A,{}));
//# sourceMappingURL=sidepanel.html-8d514a6a.js.map
