{"version":3,"file":"chatgpt-inpage-proxy.ts-119b9ec0.js","sources":["../../src/content-script/chatgpt-inpage-proxy.ts"],"sourcesContent":["import Browser from 'webextension-polyfill'\nimport { setupProxyExecutor } from '~services/proxy-fetch'\n\nfunction injectTip() {\n  const div = document.createElement('div')\n  div.innerText = 'Please keep this tab open, now you can go back to ChatHub'\n  div.style.position = 'fixed'\n  // put the div at right top of page\n  div.style.top = '0'\n  div.style.right = '0'\n  div.style.zIndex = '50'\n  div.style.padding = '10px'\n  div.style.margin = '10px'\n  div.style.border = '1px solid'\n  document.body.appendChild(div)\n}\n\nasync function main() {\n  Browser.runtime.onMessage.addListener(async (message) => {\n    if (message === 'url') {\n      return location.href\n    }\n  })\n  if ((window as any).__NEXT_DATA__) {\n    await Browser.runtime.sendMessage({ event: 'PROXY_TAB_READY' })\n    injectTip()\n  }\n}\n\nsetupProxyExecutor()\nmain().catch(console.error)\n"],"names":["injectTip","div","main","Browser","message","setupProxyExecutor"],"mappings":"iGAGA,SAASA,GAAY,CACb,MAAAC,EAAM,SAAS,cAAc,KAAK,EACxCA,EAAI,UAAY,4DAChBA,EAAI,MAAM,SAAW,QAErBA,EAAI,MAAM,IAAM,IAChBA,EAAI,MAAM,MAAQ,IAClBA,EAAI,MAAM,OAAS,KACnBA,EAAI,MAAM,QAAU,OACpBA,EAAI,MAAM,OAAS,OACnBA,EAAI,MAAM,OAAS,YACV,SAAA,KAAK,YAAYA,CAAG,CAC/B,CAEA,eAAeC,GAAO,CACpBC,EAAQ,QAAQ,UAAU,YAAY,MAAOC,GAAY,CACvD,GAAIA,IAAY,MACd,OAAO,SAAS,IAClB,CACD,EACI,OAAe,gBAClB,MAAMD,EAAQ,QAAQ,YAAY,CAAE,MAAO,kBAAmB,EACpDH,IAEd,CAEAK,IACAH,IAAO,MAAM,QAAQ,KAAK"}